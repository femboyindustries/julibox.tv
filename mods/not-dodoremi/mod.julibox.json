{
	"metadata": {
		"slug": "not-dodoremi",
		"version": "0.1.0",
		"displayName": "NotDodoReMi",
		"description": "Extensive arrow effects mod toolkit for Dodo Re Mi",
		"author": "oatmealine",
		"license": "LGPL-3.0"
	},
	"config": [
		{
			"name": "modfile",
			"type": "file",
			"default": "misc/modfiles/test.js",
			"description": "Which JS file to load for modchart code",
			"variable": "MODFILE_JS",
			"required": true
		},
		{
			"name": "song",
			"type": "filepath",
			"description": "Path to OGG file to load on the client upon song start",
			"variable": "SONG_PATH"
		}
	],
	"variables": {
		"COMMON_JS": {
			"type": "file",
			"file": "./src/common.js"
		},
		"COMPONENT_JS": {
			"type": "file",
			"file": "./src/component.js"
		},
		"RENDER_JS": {
			"type": "file",
			"file": "./src/render.js"
		},
		"LANELINE_RENDER_JS": {
			"type": "file",
			"file": "./src/laneline-render.js"
		},
		"LANELINE_COMPONENT_JS": {
			"type": "file",
			"file": "./src/laneline-component.js"
		},
		"EASES_JS": {
			"type": "file",
			"file": "./src/ease.js"
		},
		"TEMPLATE_JS": {
			"type": "file",
			"file": "./src/twink-template.js"
		},
		"STYLE_CSS": {
			"type": "file",
			"file": "./src/style.css"
		}
	},
	"assets": [
		{
			"if": "SONG_PATH",
			"name": "song.ogg",
			"assetFile": "${SONG_PATH}",
			"storePathIn": "SONG_URL"
		}
	],
	"rules": [
		{
			"slug": "inject-common-js",
			"filename": "98913b44.js",
			"required": true,
			"action": {
				"type": "find-replace",
				"find": "class vwe extends XI",
				"replace": "${EASES_JS}${TEMPLATE_JS};const $$songPath=\"${SONG_URL}\";${COMMON_JS};if(true){${MODFILE_JS};\n$$m.finalize()};class vwe extends XI"
			}
		},
		{
			"slug": "inject-component-js",
			"filename": "98913b44.js",
			"required": true,
			"action": {
				"type": "find-replace",
				"find": "const i9e=Je(V7e",
				"replace": ";const $$customComponent=${COMPONENT_JS};const i9e=Je($$customComponent"
			}
		},
		{
			"slug": "inject-render-js",
			"filename": "98913b44.js",
			"required": true,
			"action": {
				"type": "find-replace",
				"find": "\"render\",s9e",
				"replace": "\"render\",${RENDER_JS}"
			}
		},
		{
			"slug": "inject-laneline-render-js",
			"filename": "98913b44.js",
			"action": {
				"type": "find-replace",
				"find": "\"render\",E7e",
				"replace": "\"render\",${LANELINE_RENDER_JS}"
			}
		},
		{
			"slug": "inject-laneline-component-js",
			"filename": "98913b44.js",
			"action": {
				"type": "find-replace",
				"find": "const T7e=Je(g7e",
				"replace": ";const $$lanelineComponent=${LANELINE_COMPONENT_JS};const T7e=Je($$lanelineComponent"
			}
		},
		{
			"slug": "inject-style-css",
			"filename": "/",
			"action": {
				"type": "find-replace",
				"find": "</head>",
				"replace": "<style>${STYLE_CSS}</style></head>"
			}
		}
	]
}